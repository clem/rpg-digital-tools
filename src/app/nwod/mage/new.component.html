<div class="row">
  <div class="col-12 col-sm-6">
    <h2>Etape 1</h2>
    <ul>
      <li>Choisir un "concept" de personnage, votre nom et votre âge</li>
      <li>Le concept est souvent basé sur un métier</li>
      <li>Exemples : journaliste, policier, SDF, hacker, ...</li>
    </ul>

    <h2>Etape 2</h2>
    <ul>
      <li>Choisir les "attributs", qui sont répartis en en 3 groupes (Mental, Physique, Social)</li>
      <li>5 points pour un groupe, 4 pour un autre et 3 pour le dernier</li>
      <li>Vous ne pouvez prendre le 5ème point dans un attribut</li>
    </ul>

    <h2>Etape 3</h2>
    <ul>
      <li>Choisir les "compétences", qui sont répartis en 3 groupes (Mental, Physique, Social)</li>
      <li>11 points pour un groupe, 7 pour un autre et 4 pour le dernier</li>
      <li>Vous ne pouvez prendre le 5ème point dans une compétence</li>
      <li>Vous ne pouvez prendre la compétence "occult"</li>
    </ul>

  </div>
  <div class="col-12 col-sm-6">
    <h2>Lexique</h2>
    <ul class="scrollable">
      <li>Intelligence : capacités cognitives</li>
      <!-- => memory : intell + compo -->
      <li>Astuce : capacités de réflexion</li>
      <!-- => perception : wits + compo -->
      <li>Résolution : concentration, détermination</li>
      <!-- => resist : reso+wits / reso+stam -->
      <li>Force : puissance physique</li>
      <li>Dextérité : rapidité, finesse</li>
      <li>Vigueur : vigueur, résistance physique</li>
      <li>Présence : prestance, stature, attrait</li>
      <li>Manipulation : charme, persuasion</li>
      <li>Calme : calme, assurance</li>
      <!-- => meditation : compo + wits -->

      <li class="li-empty"></li>

      <li>Artisanat : réparations</li>
      <!-- => art : intell -->
      <!-- => repair : dex -->
      <li>Erudition : connaissances</li>
      <!-- => research : intell -->
      <li>Informatique : informatique, programmation</li>
      <!-- => hacking : intell -->
      <li>Investigation : recherche, énigmes</li>
      <!-- => examine : wits -->
      <!-- => enigma : intell -->
      <li>Médicine : physiologie humaine, blessures</li>
      <!-- => healing : dex/intell -->
      <li>Occulte : surnaturel, légendes</li>
      <li>Politique : bureaucratie, contacts</li>
      <li>Science : physique, chimie, biologie, ...</li>

      <li>Armes à feu : pistolets, fusils d'assault</li>
      <li>Armes blanches</li>
      <li>Athlétisme : escalade, course, jeter un truc</li>
      <!-- => climbing : str -->
      <!-- => run : stam -->
      <!-- => jump : str -->
      <!-- => throw : dex -->
      <li>Bagarre : combat à mains nues</li>
      <li>Conduite : voitures, bateaux, course poursuite</li>
      <!-- => pursuit : dex -->
      <!-- => filature : wits -->
      <li>Furtivité : discrétion, déplacement silencieux</li>
      <!-- => shadowing : wits -->
      <li>Larcin : crochetage, vol à la tire</li>
      <!-- => bypass : dex -->
      <!-- => lock : dex -->
      <!-- => sleight of hand : dex -->
      <li>Survival : trouver à manger, un refuge</li>
      <!-- => foraging : wits -->

      <li>Animal ken : comportement des animaux</li>
      <!-- => training : compo -->
      <li>Empathy : intuition, lire les émotions</li>
      <li>Expression : art de la communication</li>
      <li>Intimidation : via la peur, la force</li>
      <!-- => interrogation : wits -->
      <li>Persuasion : via le charme, la diplomatie</li>
      <!-- => deal : manip -->
      <!-- => fast talk : manip -->
      <!-- => oratory : pres -->
      <!-- => seduction : pres -->
      <li>Socialize : étiquette, sociabilité</li>
      <li>Streetwise : connaissance de la rue, marché noir</li>
      <!-- => black market : manip -->
      <li>Subterfuge : mensonges, cacher des émotions</li>
      <!-- => disguise : wits -->
      <li class="li-empty"></li>
      <li>Health : vos "points de vie"</li>
      <li>Willpower : votre "volonté"; dépenser 1 point ajoute 3 dés à un jet</li>
      <li>Morality : votre "humanité", évitez de décapiter des gens ;)</li>
    </ul>
  </div>
</div>

<hr>

<div class="row">
  <div class="col-12 col-sm-4">
    <h4>Attributes</h4>
    <ul>
      <li>1 = faible, non pratiqué</li>
      <li>2 = moyen, efforts occasionnels</li>
      <li>3 = bon, pratique régulièrement</li>
      <li>4 = exceptionnel, don naturel</li>
      <li>5 = hors du commun</li>
    </ul>
  </div>
  <div class="col-12 col-sm-4">
    <h4>Skills</h4>
    <ul>
      <li>1 = novice</li>
      <li>2 = praticien</li>
      <li>3 = professionnel</li>
      <li>4 = expert</li>
      <li>5 = maître</li>
    </ul>
  </div>
  <div class="col-12 col-sm-4">
    <h4>Health</h4>
    <ul>
      <li>Dégâts "contondants", récupère 1 point / 15 min (ex: batte de baseball)</li>
      <li>Dégâts "létaux", récupère 1 point / 2 jours (ex: pistolet)</li>
      <li>Dégâts "aggravés", récupère 1 point / 2 semaines (ex: lance-flamme)</li>
    </ul>
  </div>
</div>

<hr>

<button type="button" (click)="debug = !debug">toggle DEBUG mode</button>
<button type="button" (click)="eraseSheet()">Reset sheet</button>
<button type="button" class="btn btn-primary" (click)="saveSheet()">SAUVEGARDER</button>

<div class="sheet-container" [class.debug]="debug">
  <img class="sheet" src="assets/nwod/mage_eveil_vf-1.jpg">
  <img class="sheet" src="assets/nwod/mage_eveil_vf-2.jpg">

  <ng-template ngFor let-item [ngForOf]="arrayOfCharacter">
    <input type="text" maxlength="18" [attr.name]="item" class="border-bottom" [(ngModel)]="form[item]" (ngModelChange)="formChanged()">
  </ng-template>

  <select name="virtue" [(ngModel)]="form.virtue">
    <option value="charite">Charité</option>
    <option value="foi">Foi</option>
    <option value="courage">Courage</option>
    <option value="espoir">Espoir</option>
    <option value="justice">Justice</option>
    <option value="prudence">Prudence</option>
    <option value="temperance">Tempérance</option>
  </select>

  <select name="vice" [(ngModel)]="form.vice">
    <option value="envie">Envie</option>
    <option value="gourmandise">Gourmandise</option>
    <option value="avidite">Avidité</option>
    <option value="luxure">Luxure</option>
    <option value="orgueil">Orgueil</option>
    <option value="paresse">Paresse</option>
    <option value="colere">Colère</option>
  </select>

  <select name="path" [(ngModel)]="form.path" (ngModelChange)="selectChanged()">
    <option value="acanthus">Acanthus</option>
    <option value="mastigos">Mastigos</option>
    <option value="moros">Moros</option>
    <option value="obrimos">Obrimos</option>
    <option value="thyrsus">Thyrsus</option>
  </select>

  <select name="order" [(ngModel)]="form.order" (ngModelChange)="selectChanged()">
    <option value="adamantine_arrow">Flèche d'adamantine</option>
    <option value="free_council">Conseil libre</option>
    <option value="guardians_of_the__veil">Gardiens du voile</option>
    <option value="mysterium">Mysterium</option>
    <option value="silver_ldder">Echelle d'argent</option>
  </select>

  <ng-template ngFor let-attribute [ngForOf]="arrayOfAttributes">
    <ng-template ngFor let-score [ngForOf]="arrayOfFive">
      <ng-template [ngIf]="score > 1">
        <div [class.filled]="form[attribute] + (form.favoredAttribute === attribute ? 1 : 0) >= score"
             [class.favored]="form.favoredAttribute === attribute && score === 2"
             (click)="clickDot(attribute, score)"
             class="dot {{attribute}}-{{score}}"
         ></div>
      </ng-template>
    </ng-template>
  </ng-template>

  <ng-template ngFor let-skill [ngForOf]="arrayOfSkills">
    <div [class.filled]="form.skillRotes[skill]"
         class="square rote {{skill}}-rote"
     ></div>
    <ng-template ngFor let-score [ngForOf]="arrayOfFive">
      <div [class.filled]="form[skill] >= score"
           (click)="clickDot(skill, score)"
           class="dot {{skill}}-{{score}}"
       ></div>
    </ng-template>
  </ng-template>

  <ng-template ngFor let-nb [ngForOf]="arrayOfEight">
    <input type="text" [attr.name]="'merit-' + nb" [(ngModel)]="form.merits[nb + '-name']" (ngModelChange)="formChanged()">
    <ng-template ngFor let-score [ngForOf]="arrayOfFive">
      <div [class.filled]="form['merits-' + nb] >= score"
           (click)="clickDot('merits-' + nb, score)"
           class="dot merit-{{nb}}-{{score}}"
       ></div>
    </ng-template>
  </ng-template>

  <input type="text" name="flaw-1" [(ngModel)]="form['flaw-1']" (ngModelChange)="formChanged()">
  <input type="text" name="flaw-2" [(ngModel)]="form['flaw-2']" (ngModelChange)="formChanged()">
  <input type="text" name="flaw-3" [(ngModel)]="form['flaw-3']" (ngModelChange)="formChanged()">

  <input type="number" name="size" [(ngModel)]="form['size']" (ngModelChange)="formChanged()">
  <input type="number" name="defense" [ngModel]="form['defense']" disabled>
  <input type="number" name="initiative" [ngModel]="form['initiative']" disabled>
  <input type="number" name="speed" [ngModel]="form['speed']" disabled>

  <ng-template ngFor let-arcana [ngForOf]="arrayOfArcanas">
    <ng-template ngFor let-score [ngForOf]="arrayOfFive">
      <div [class.filled]="form[arcana] >= score"
           (click)="clickDot(arcana, score)"
           class="dot {{arcana}}-{{score}}"
       ></div>
    </ng-template>
  </ng-template>

  <ng-template ngFor let-score [ngForOf]="arrayOfFifteen">
    <div [class.filled]="form.health >= score"
         class="dot health health-{{score}}"
     ></div>
  </ng-template>

  <ng-template ngFor let-score [ngForOf]="arrayOfTen">
    <div [class.filled]="form.willpower >= score"
         class="dot willpower willpower-{{score}}"
     ></div>
  </ng-template>

  <ng-template ngFor let-score [ngForOf]="arrayOfTwenty">
    <div [class.filled]="form.mana >= score"
         class="square mana mana-{{score}}"
     ></div>
  </ng-template>

  <ng-template ngFor let-score [ngForOf]="arrayOfTen">
    <div [class.filled]="form.gnosis >= score"
        (click)="clickDot('gnosis', score)"
         class="dot gnosis gnosis-{{score}}"
     ></div>
  </ng-template>

  <ng-template ngFor let-score [ngForOf]="arrayOfTen">
    <div [class.filled]="form.morality >= score"
         (click)="clickDot('morality', score)"
         class="dot morality-{{score}}"
     ></div>
  </ng-template>

</div>
